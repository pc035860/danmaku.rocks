!function(e){e.$fuse$=e;var t=function(t,n){if(!e.isServer){var i=t.replace(/[\.\/]+/g,"-");"-"===i.charAt(0)&&(i=i.substring(1));var r=document.getElementById(i);if(r)n&&(r.innerHTML=n);else{var s=document.createElement(n?"style":"link");s.id=i,s.type="text/css",n?s.innerHTML=n:(s.rel="stylesheet",s.href=t),document.getElementsByTagName("head")[0].appendChild(s)}}};e.on("async",function(n){if(!e.isServer)return/\.css$/.test(n)?(t(n),!1):void 0}),e.pkg("default",{},function(e){e.file("index.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t("./sass/index.scss");var a=t("jquery"),u=s(a),c=t("~/modules/Danmaku/src/index.js"),l=s(c),f=t("raf"),d=s(f),h=t("query-string"),p=t("./createSocketEmitter"),m=s(p),v=t("./parseTags"),g=s(v),y=t("./parseEmotes"),b=s(y),_=t("./utils/colors"),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(_),j=t("./badges"),x=t("./cheers"),k=t("./twitchApi"),O=t("./utils/boolish"),C=s(O),M=t("./createWatchParams"),E=s(M),P=t("./createDanmakuRectHandler"),A=s(P),F=t("./config"),S=function(){return/\/overlay/.test(location.pathname)},T=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},I=function(){var e=(0,h.parse)(location.search),t=(0,h.stringify)(Object.assign(e,{c:"miao11255"}));location.href="?"+t},D=function(){var e=!1;return function(t){return(0,d.default)(function(){e||(e=!0,t(),e=!1)})}}(),z=function(){var e=location.pathname.split("/"),t=e.length;return e[t-1]||e[t-2]},N=function(e,t){var n=(0,u.default)(e);n.attr("src",n.data("src").replace("{CHANNEL}",t))},L=function(e,t){var n=(0,C.default)(function(){return t.get()}),i=e.name,r=(0,u.default)("body");if(/\/watch(:?\/|\.html)?$/.test(location.pathname)&&!S()&&(t.set("showstream",1),r.addClass("watch")),n("showstream")){var s=n("nochat");N("#stream",i),s||N("#chat",i),r.addClass("showstream"),r.toggleClass("no-chat",s)}(0,j.loadGlobalBadges)(),(0,j.loadSubscriberBadges)(i),(0,k.getChannel)(i).then(function(e){var t=e.display_name||e.name;document.title=t+" - "+F.siteName});var a=(0,x.get)(i),c=new l.default,f=(0,A.default)((0,u.default)("#danmaku-position"),(0,u.default)("#stream-wrap"));c.init({container:document.getElementById("danmaku-container"),speed:t.get("speed"),reverse:n("reverse")});var h=function(){f(r.hasClass("stream-fullscreen")),c.resize()};(0,u.default)(window).on("resize",function(){D(h)}),(0,u.default)(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange msfullscreenchange",function(e){if(T()){var t="stream"===e.target.id;r.toggleClass("stream-fullscreen",t)}else r.removeClass("stream-fullscreen");h()}),h();var p=function(e,i,r,s){var o=(0,g.default)(i,r),a=!1,u="";if(n("showbadges")&&o.badges&&o.badges.forEach(function(e){var t=e.type+"-"+e.version;u+='<span class="'+t+' tag">&nbsp;</span>'}),t.get("theme")){var l=t.get("theme");if(/^#[0-9a-f]+$/i.test(o.color))for(;w.calcBgTheme(o.color)!==l;)o.color=w.calcReplacement(o.color,w.calcBgTheme(o.color))}if(/^\x01ACTION.*\x01$/.test(s)&&(a=!0,s=s.replace(/^\x01ACTION/,"").replace(/\x01$/,"").trim()),s=(0,b.default)(e,s,o),a)c.emit({html:!0,text:u+'<span class="action" style="color: '+o.color+';">'+s+"</span>",mode:"bottom"});else if(n("shownick")){var f=u+'<span class="nick" style="color: '+o.color+';">'+(o.displayName||i)+':</span> <span class="message">'+s+"</span>";"message"===t.get("highlight")&&(f=u+'<span class="nick">'+(o.displayName||i)+':</span> <span class="message" style="color: '+o.color+';">'+s+"</span>"),c.emit({html:!0,text:f})}else c.emit({html:!0,text:u+'<span class="message" style="color: '+o.color+';">'+s+"</span>"})};(0,m.default)({nick:"justinfan12345",channel:i}).on("$msg",function(e,t,n){var i=window.performance.now();a.then(function(r){(0,d.default)(function(s){if((s-i)/1e3>c.duration/5)return void console.info("comment skipped");p(r,e,t,n)})})});var v=function(e){r.removeClass("theme-dark theme-light").addClass("theme-"+e)},y=function(e){r.removeClass("highlight-nick highlight-message").addClass("highlight-"+e)},_=function(e){return e.split(",").map(function(e){return Number(e)})},O=function(e,t){(0,u.default)("#danmaku-container").css({top:e+"%",bottom:100-t+"%"}),c.resize()};v(t.get("theme")),y(t.get("highlight")),O.apply(void 0,o(_(t.get("rect")))),t.on("change",function(e){e.forEach(function(e){var t=e.name,n=e.newValue;e.oldValue;switch(t){case"theme":v(n);break;case"highlight":y(n);break;case"reverse":c.reverse=!!n;break;case"rect":O.apply(void 0,o(_(n)))}})})};(0,u.default)(function(){var e=(0,E.default)((0,h.parse)(location.search),{channel:"c"}),t=e.get("channel"),n=z(),i=t||n;if(!i)return void I();!t&&!S()&&(e.set("showstream",1),(0,u.default)("body").addClass("watch")),(0,k.getChannel)(i).then(function(t){if(!t)return void I();L(t,e)},function(){I()})})}),e.file("sass/index.scss",function(e,n,i,r,s){t("sass/index.scss",'@charset "UTF-8";.showstream.watch.no-chat #stream-wrap, .showstream.watch.stream-fullscreen #stream-wrap { right: 0; width: 100%; } .showstream.watch.no-chat #chat-wrap, .showstream.watch.stream-fullscreen #chat-wrap { display: none; } .showstream.watch.no-chat #danmaku-position, .showstream.watch.stream-fullscreen #danmaku-position { right: 0; width: 100%; } @keyframes rotate { from { transform: rotate3d(0,0,1,0deg); } to { transform: rotate3d(0,0,1,360deg); } } /** * scrolling shadows * * Ref: * http://lea.verou.me/2012/04/background-attachment-local/ * http://codepen.io/laustdeleuran/pen/DBaAu */body { margin: 0; padding: 0; font-family: "Hiragino Sans GB","华文细黑","STHeiti","微软雅黑","Microsoft YaHei",SimHei,"Helvetica Neue",Helvetica,Arial,sans-serif !important; } body.showstream { background-color: #17141f; } #stream { display: none; position: relative; height: 100%; } #stream-wrap { position: fixed; z-index: 0; left: 0; right: 0; top: 0; bottom: 0; width: 100%; height: 100%; } .showstream #stream-wrap { display: block; } #chat { position: absolute; left: 0; right: 0; top: 0; bottom: 0; width: 100%; height: 100%; } #chat-wrap { display: none; position: absolute; right: 0; top: 0; bottom: 0; width: 340px; background-color: #17141f; } #danmaku-position { box-sizing: border-box; position: absolute; z-index: 2147483647; left: 50%; top: 50%; width: 100%; height: 100%; display: -ms-flexbox; display: flex; -ms-flex-direction: row; flex-direction: row; -ms-flex-align: stretch; align-items: stretch; padding: 5px 0; pointer-events: none; } #danmaku-container { position: absolute; left: 0; right: 0; top: 0; bottom: 0; width: 100%; } #danmaku-container > div > div { font-family: "Microsoft YaHei"; text-shadow: -1px 0 rgba(51, 51, 51, 0.8), 0 1px rgba(51, 51, 51, 0.8), 1px 0 rgba(51, 51, 51, 0.8), 0 -1px rgba(51, 51, 51, 0.8); will-change: transform; color: #fff; font-size: 2.2vh; } .highlight-message.theme-light #danmaku-container > div > div .nick { color: #333; } .highlight-message.theme-dark #danmaku-container > div > div .nick { color: #fff; } .highlight-nick.theme-light #danmaku-container > div > div .message { color: #333; } .highlight-nick.theme-dark #danmaku-container > div > div .message { color: #fff; } #danmaku-container > div > div .tag { position: relative; top: -1px; display: inline-block; width: 3.3vh; height: 3.3vh; min-width: 18px; padding: 0; margin-right: 0.2em; overflow: hidden; border-radius: 2px; background-position: 0 center; background-repeat: no-repeat; background-size: contain; vertical-align: middle; text-indent: -9999px; } #danmaku-container > div > div .emoticon { position: relative; top: -2px; width: auto; height: 3.3vh; margin: -3px 0; vertical-align: middle; } .showstream.watch #stream-wrap { right: 340px; width: auto; } .showstream.watch #stream { display: block; } .showstream.watch #chat-wrap { display: block; } .showstream.watch #danmaku-position { right: 340px; width: auto; }')}),e.file("modules/Danmaku/src/index.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){this._isInited=!1,e&&this.init(e)}Object.defineProperty(e,"__esModule",{value:!0});var a=t("./api/init.js"),u=s(a),c=t("./api/emit.js"),l=s(c),f=t("./api/clear.js"),d=s(f),h=t("./api/destroy.js"),p=s(h),m=t("./api/show.js"),v=s(m),g=t("./api/hide.js"),y=s(g),b=t("./api/resize.js"),_=s(b),w=t("./api/speed.js"),j=s(w);(0,u.default)(o),(0,l.default)(o),(0,d.default)(o),(0,p.default)(o),(0,v.default)(o),(0,y.default)(o),(0,_.default)(o),(0,j.default)(o),e.default=o}),e.file("modules/Danmaku/src/api/init.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.init=function(e){if(this._isInited)return this;if(!e||!e.container&&(!e.video||e.video&&!e.video.parentNode))throw new Error("Danmaku requires container when initializing.");this._hasInitContainer=!!e.container,this.container=e.container,this.visible=!0,this.reverse=!!e.reverse,this.engine=(e.engine||"DOM").toLowerCase(),this._useCanvas="canvas"===this.engine,this._requestID=0,this._speed=Math.max(0,e.speed)||144,this.duration=4,this.comments=JSON.parse(JSON.stringify(e.comments||[])),this.comments.sort(function(e,t){return e.time-t.time});for(var t=0;t<this.comments.length;t++)this.comments[t].mode=(0,h.default)(this.comments[t].mode);if(this.runningList=[],this.position=0,this.paused=!0,this.media=e.video||e.audio,this._hasMedia=!!this.media,this._hasVideo=!!e.video,this._hasVideo&&!this._hasInitContainer){var n=!this.media.paused;this.container=document.createElement("div"),this.container.style.position=this.media.style.position,this.media.style.position="absolute",this.media.parentNode.insertBefore(this.container,this.media),this.container.appendChild(this.media),n&&this.media.paused&&this.media.play()}return this._hasMedia&&o.bindEvents.call(this),this._useCanvas?(this.stage=document.createElement("canvas"),this.stage.context=this.stage.getContext("2d")):(this.stage=document.createElement("div"),this.stage.style.cssText="overflow:hidden;white-space:nowrap;transform:translateZ(0);"),this.stage.style.cssText+="position:relative;pointer-events:none;",this.resize(),this.container.appendChild(this.stage),(0,f.computeFontSize)(document.getElementsByTagName("html")[0]),(0,f.computeFontSize)(this.container),this._hasMedia&&this.media.paused||(l.default.call(this),u.default.call(this)),this._isInited=!0,this}};var o=t("../internal/events.js"),a=t("../internal/play.js"),u=s(a),c=t("../internal/seek.js"),l=s(c),f=t("../util/fontSize.js"),d=t("../util/formatMode.js"),h=s(d)}),e.file("modules/Danmaku/src/internal/events.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(){p=c.default.bind(this),m=f.default.bind(this),v=h.default.bind(this),this.media.addEventListener("play",p),this.media.addEventListener("pause",m),this.media.addEventListener("seeking",v)}function a(){this.media.removeEventListener("play",p),this.media.removeEventListener("pause",m),this.media.removeEventListener("seeking",v),p=null,m=null,v=null}Object.defineProperty(e,"__esModule",{value:!0}),e.bindEvents=o,e.unbindEvents=a;var u=t("./play.js"),c=s(u),l=t("./pause.js"),f=s(l),d=t("./seek.js"),h=s(d),p=null,m=null,v=null}),e.file("modules/Danmaku/src/internal/play.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function e(){r.call(i),i._requestID=(0,l.raf)(e)}if(!this.visible||!this.paused)return this;if(this.paused=!1,this._hasMedia)for(var t=0;t<this.runningList.length;t++){var n=this.runningList[t];n._utc=Date.now()/1e3-(this.media.currentTime-n.time)}var i=this,r=this._useCanvas?c.default:a.default;return this._requestID=(0,l.raf)(e),this};var o=t("../engine/dom.js"),a=s(o),u=t("../engine/canvas.js"),c=s(u),l=t("../util/animationFrame.js")}),e.file("modules/Danmaku/src/engine/dom.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=Date.now()/1e3,t=this._hasMedia?this.media.currentTime:e,n=this._hasMedia?this.media.playbackRate:1,i=null,r=0,s=0;for(s=0;s<this.runningList.length;s++)i=this.runningList[s],r=this._hasMedia?i.time:i._utc,t-r>this.duration&&(this.stage.removeChild(i.node),this._hasMedia||(i.node=null),this.runningList.splice(s,1));for(var o=[],u=document.createDocumentFragment();this.position<this.comments.length&&(i=this.comments[this.position],!((r=this._hasMedia?i.time:i._utc)>=t));)i._utc=Date.now()/1e3,i.node=i.node||(0,c.default)(i),this.runningList.push(i),o.push(i),u.appendChild(i.node),++this.position;for(o.length&&this.stage.appendChild(u),s=0;s<o.length;s++)i=o[s],i.width=i.width||i.node.offsetWidth,i.height=i.height||i.node.offsetHeight;for(s=0;s<o.length;s++)i=o[s],i.y=a.default.call(this,i),"top"!==i.mode&&"bottom"!==i.mode||(i.x=this.width-i.width>>1,i.node.style[l.transform]="translate("+i.x+"px,"+i.y+"px)");for(s=0;s<this.runningList.length;s++)if(i=this.runningList[s],"top"!==i.mode&&"bottom"!==i.mode){var f=this.width+i.width,d=f*(e-i._utc)*n/this.duration;"ltr"===i.mode&&(i.x=d-i.width),"rtl"===i.mode&&(i.x=this.width-d),i.node.style[l.transform]="translate("+i.x+"px,"+i.y+"px)"}};var o=t("../internal/allocate.js"),a=s(o),u=t("../util/commentNode.js"),c=s(u),l=t("../util/transform.js")}),e.file("modules/Danmaku/src/internal/allocate.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){for(var t=this,n=this._hasMedia?this.media.currentTime:Date.now()/1e3,i=this._hasMedia?this.media.playbackRate:1,r=s.space[e.mode],o=0,a=0,u=1;u<r.length;u++){var c=r[u],l=e.height;if("top"!==e.mode&&"bottom"!==e.mode||(l+=c.height),c.range-c.height-r[o].range>=l){a=u;break}(function(e,r){if("top"===r.mode||"bottom"===r.mode)return n-e.time<t.duration;var s=t.width+e.width,o=s*(n-e.time)*i/t.duration;return e.width>o||t.duration+e.time-n>t.duration*t.width/(t.width+r.width)})(c,e)&&(o=u)}var f=r[o].range,d={range:f+e.height,time:this._hasMedia?e.time:e._utc,width:e.width,height:e.height};if(r.splice(o+1,a-o-1,d),"bottom"===e.mode){var h=this.height-e.height-f%this.height;return this.reverse?this.height-(h+e.height):h}var p=f%(this.height-e.height);return this.reverse?this.height-(p+e.height):p};var s=t("../util/space.js")}),e.file("modules/Danmaku/src/util/space.js",function(e,t,n,i,r){"use strict";function s(){var e=9007199254740991;return[{range:0,time:-e,width:e,height:0},{range:e,time:e,width:0,height:0}]}function o(){a.ltr=s(),a.rtl=s(),a.top=s(),a.bottom=s()}Object.defineProperty(e,"__esModule",{value:!0}),e.resetSpace=o;var a=e.space={};o()}),e.file("modules/Danmaku/src/util/commentNode.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=document.createElement("div");if(!0===e.html?t.innerHTML=e.text:t.textContent=e.text,t.style.cssText="position:absolute;",e.style)for(var n in e.style)t.style[n]=e.style[n];return t}}),e.file("modules/Danmaku/src/util/transform.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.transform=function(){for(var e=["oTransform","msTransform","mozTransform","webkitTransform","transform"],t=document.createElement("div").style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return"transform"}()}),e.file("modules/Danmaku/src/engine/canvas.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.stage.context.clearRect(0,0,this.width,this.height);var e=Date.now()/1e3,t=this._hasMedia?this.media.currentTime:e,n=this._hasMedia?this.media.playbackRate:1,i=null,r=0,s=0;for(s=0;s<this.runningList.length;s++)i=this.runningList[s],r=this._hasMedia?i.time:i._utc,t-r>this.duration&&(i.canvas=null,this.runningList.splice(s,1));for(;this.position<this.comments.length&&(i=this.comments[this.position],!((r=this._hasMedia?i.time:i._utc)>=t));)i._utc=Date.now()/1e3,i.canvas=(0,c.default)(i),i.y=a.default.call(this,i),"top"!==i.mode&&"bottom"!==i.mode||(i.x=this.width-i.width>>1),this.runningList.push(i),++this.position;for(s=0;s<this.runningList.length;s++){i=this.runningList[s];var o=this.width+i.width,u=o*(e-i._utc)*n/this.duration;"ltr"===i.mode&&(i.x=u-i.width+.5|0),"rtl"===i.mode&&(i.x=this.width-u+.5|0),this.stage.context.drawImage(i.canvas,i.x,i.y)}};var o=t("../internal/allocate.js"),a=s(o),u=t("../util/commentCanvas.js"),c=s(u)}),e.file("modules/Danmaku/src/util/commentCanvas.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),i=e.canvasStyle||{};i.font=i.font||"10px sans-serif",i.textBaseline=i.textBaseline||"bottom";var r=1*i.lineWidth;r=r>0&&r!==1/0?Math.ceil(r):1*!!i.strokeStyle,n.font=i.font,e.width=e.width||Math.max(1,Math.ceil(n.measureText(e.text).width)+2*r),e.height=e.height||Math.ceil((0,o.default)(i.font))+2*r,t.width=e.width,t.height=e.height;for(var s in i)n[s]=i[s];var a=0;switch(i.textBaseline){case"top":case"hanging":a=r;break;case"middle":a=e.height>>1;break;default:a=e.height-r}return i.strokeStyle&&n.strokeText(e.text,r,a),n.fillText(e.text,r,a),t};var s=t("./canvasHeight.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(s)}),e.file("modules/Danmaku/src/util/canvasHeight.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if(o[e])return o[e];var t=12,n=e.match(/^(\d+(?:\.\d+)?)(px|%|em|rem)(?:\s*\/\s*(\d+(?:\.\d+)?)(px|%|em|rem)?)?/);if(n){var i=1*n[1]||10,r=n[2],a=1*n[3]||1.2,u=n[4];"%"===r&&(i*=s.containerFontSize/100),"em"===r&&(i*=s.containerFontSize),"rem"===r&&(i*=s.rootFontSize),"px"===u&&(t=a),"%"===u&&(t=i*a/100),"em"===u&&(t=i*a),"rem"===u&&(t=s.rootFontSize*a),void 0===u&&(t=i*a)}return o[e]=t,t};var s=t("./fontSize.js"),o=Object.create(null)}),e.file("modules/Danmaku/src/util/fontSize.js",function(e,t,n,i,r){"use strict";function s(t){var n=1*window.getComputedStyle(t,null).getPropertyValue("font-size").match(/(.+)px/)[1];"HTML"===t.tagName?e.rootFontSize=a=n:e.containerFontSize=o=n}Object.defineProperty(e,"__esModule",{value:!0}),e.computeFontSize=s;var o=e.containerFontSize=16,a=e.rootFontSize=16}),e.file("modules/Danmaku/src/util/animationFrame.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,50/3)},e.caf=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||clearTimeout}),e.file("modules/Danmaku/src/internal/pause.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!this.visible||this.paused?this:(this.paused=!0,(0,s.caf)(this._requestID),this._requestID=0,this)};var s=t("../util/animationFrame.js")}),e.file("modules/Danmaku/src/internal/seek.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!this._hasMedia)return this;this.clear(),(0,a.resetSpace)();var e=(0,o.default)(this.comments,"time",this.media.currentTime);return this.position=Math.max(0,e-1),this};var s=t("../util/binsearch.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(s),a=t("../util/space.js")}),e.file("modules/Danmaku/src/util/binsearch.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,n){for(var i=0,r=0,s=e.length;r<s-1;)i=r+s>>1,n>=e[i][t]?r=i:s=i;return e[r]&&n<e[r][t]?r:s}}),e.file("modules/Danmaku/src/util/formatMode.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return/^(ltr|top|bottom)$/i.test(e)?e.toLowerCase():"rtl"}}),e.file("modules/Danmaku/src/api/emit.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.emit=function(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return this;var t=JSON.parse(JSON.stringify(e));if(t.text=(t.text||"").toString(),t.mode=(0,a.default)(t.mode),t._utc=Date.now()/1e3,this._hasMedia){var n=0;void 0===t.time?(t.time=this.media.currentTime,n=this.position):n=(0,c.default)(this.comments,"time",t.time),this.comments.splice(n,0,t)}else this.comments.push(t);return this}};var o=t("../util/formatMode.js"),a=s(o),u=t("../util/binsearch.js"),c=s(u)}),e.file("modules/Danmaku/src/api/clear.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.clear=function(){if(this._useCanvas){this.stage.context.clearRect(0,0,this.width,this.height);for(var e=0;e<this.runningList.length;e++)this.runningList[e].canvas=null}else for(var t=this.stage.lastChild;t;)this.stage.removeChild(t),t=this.stage.lastChild;return this.runningList=[],this}}}),e.file("modules/Danmaku/src/api/destroy.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.destroy=function(){if(!this._isInited)return this;if(a.default.call(this),this.clear(),this._hasMedia&&s.unbindEvents.call(this),(0,u.resetSpace)(),this._hasVideo&&!this._hasInitContainer){var e=!this.media.paused;this.media.style.position=this.container.style.position,this.container.parentNode.appendChild(this.media),this.container.parentNode.removeChild(this.container),e&&this.media.paused&&this.media.play()}for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return this}};var s=t("../internal/events.js"),o=t("../internal/pause.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=t("../util/space.js")}),e.file("modules/Danmaku/src/api/show.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.show=function(){return this.visible?this:(this.visible=!0,this._hasMedia&&this.media.paused?this:(c.default.call(this),a.default.call(this),this))}};var o=t("../internal/play.js"),a=s(o),u=t("../internal/seek.js"),c=s(u)}),e.file("modules/Danmaku/src/api/hide.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.hide=function(){return this.visible?(o.default.call(this),this.clear(),this.visible=!1,this):this}};var s=t("../internal/pause.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(s)}),e.file("modules/Danmaku/src/api/resize.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){e.prototype.resize=function(){return this._hasInitContainer&&(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight),!this._hasVideo||this._hasInitContainer&&this.width&&this.height||(this.width=this.media.clientWidth,this.height=this.media.clientHeight),this._useCanvas?(this.stage.width=this.width,this.stage.height=this.height):(this.stage.style.width=this.width+"px",this.stage.style.height=this.height+"px"),this.duration=this.width/this._speed,this}}}),e.file("modules/Danmaku/src/api/speed.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(e){return"number"!=typeof e||isNaN(e)||!isFinite(e)||e<=0?this._speed:(this._speed=e,this.width&&(this.duration=this.width/e),e)}})}}),e.file("createSocketEmitter.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},f,e);if(!t.channel)throw new Error("No channel specified");var n=new ReconnectingWebSocket("wss://irc-ws.chat.twitch.tv","irc",{reconnectInterval:3e3}),i=(0,u.default)(n);return n.onopen=function(e){console.info("Connected."),i.emit("open"),n.send("PASS blah\r\n"),n.send("NICK "+t.nick+"\r\n"),n.send("CAP REQ :twitch.tv/commands twitch.tv/tags\r\n"),n.send("JOIN #"+t.channel+"\r\n")},n.onclose=function(){console.info("You were disconnected from the server."),i.emit("close")},n.onmessage=function(e){var r=(0,l.default)(e.data.trim());if(r.command)switch(r.command){case"PING":return i.emit("ping",r),void n.send("PONG "+r.params[0]);case"JOIN":return i.emit("join",r),void console.info("Joined channel: "+t.channel+".");case"CLEARCHAT":return void i.emit("clearchat",r);case"PRIVMSG":if(r.params[0]!=="#"+t.channel||!r.params[1])return;var s=r.prefix.split("@")[0].split("!")[0];if(t.bot_activity&&"true"!==t.bot_activity.toLowerCase()){if("!"===r.params[1].charAt(0))return;if(/bot$/.test(s))return}return i.emit("privmsg",r),void i.emit("$msg",s,r.tags,r.params[1])}},i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=t("event-emitter"),u=s(a),c=t("./parseIRC"),l=s(c),f={channel:null,nick:"justinfan12345",bot_activity:"false"}}),e.file("parseIRC.js",function(e,t,n,i,r){"use strict";function s(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,i=0;if(64===e.charCodeAt(0)){var i=e.indexOf(" ");if(-1===i)return null;for(var r=e.slice(1,i).split(";"),s=0;s<r.length;s++){var o=r[s],a=o.split("=");t.tags[a[0]]=a[1]||!0}n=i+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(-1===(i=e.indexOf(" ",n)))return null;for(t.prefix=e.slice(n+1,i),n=i+1;32===e.charCodeAt(n);)n++}if(-1===(i=e.indexOf(" ",n)))return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,i),n=i+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(i=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(-1===i){if(-1===i){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,i)),n=i+1;32===e.charCodeAt(n);)n++}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}),e.file("parseTags.js",function(e,t,n,i,r){"use strict";function s(e,t){var n={name:e,displayName:e,color:o[e.charCodeAt(0)%15],emotes:null,badges:[]};return t["display-name"]&&"string"==typeof t["display-name"]&&(n.displayName=t["display-name"]),t.color&&"string"==typeof t.color&&(n.color=t.color),t.emotes&&"string"==typeof t.emotes&&(n.emotes=t.emotes),t.badges&&"string"==typeof t.badges&&(n.badges=t.badges.split(",").map(function(e){return e=e.split("/"),{type:e[0],version:e[1]}})),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=e.defaultColors=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"]}),e.file("parseEmotes.js",function(e,t,n,i,r){"use strict";function s(e,t,n){var i={};n.emotes&&n.emotes.split("/").forEach(function(e){var t=e.split(":");i[t[0]]||(i[t[0]]=[]),t[1].split(",").forEach(function(e){var n=e.split("-");i[t[0]].push([parseInt(n[0]),parseInt(n[1])])})});for(var r=d(t,i),s=0;s<r.length;s++)"string"==typeof r[s]?r[s]=h(e,n,r[s]):r[s]=r[s][0];return r.join(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.extraMessageTokenize=e.emoticonize=void 0,e.default=s;var o=t("punycode"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=t("./templates"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=t("./cheers"),f=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},d=e.emoticonize=function(e,t){if(!t)return[e];var n=[],i=Object.keys(t),r=[];return i.forEach(function(e){for(var n=t[e],i=n.length-1;i>=0;i--)r.push({id:e,first:n[i][0],last:n[i][1]})}),r.sort(function(e,t){return t.first-e.first}),e=a.default.ucs2.decode(e),r.forEach(function(t){n.unshift(a.default.ucs2.encode(e.slice(t.last+1))),n.unshift([c.emote(t.id)]),e=e.slice(0,t.first)}),n.unshift(a.default.ucs2.encode(e)),n},h=e.extraMessageTokenize=function(e,t,n){for(var i=n.split(" "),r=0;r<i.length;r++){var s=i[r],o=(0,l.findCheerInToken)(e,s);s=o?c.cheer(o):f(s),i[r]=s}return i.join(" ")}}),e.file("templates.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.extraEmote=function(e){return'<img class="emoticon '+e.source+"-emo-"+e.id+'"\n            src="'+e["1x"]+'"\n            srcset="'+e["2x"]+" 2x, "+e["3x"]+' 4x"\n          />'},e.emote=function(e){return'<img class="emoticon ttv-emo-'+e+'"\n            src="//static-cdn.jtvnw.net/emoticons/v1/'+e+'/1.0"\n            srcset="\n              //static-cdn.jtvnw.net/emoticons/v1/'+e+"/2.0 2x,\n              //static-cdn.jtvnw.net/emoticons/v1/"+e+'/3.0 4x"\n          />'},e.cheer=function(e){return'<img class="emoticon cheermote" src="'+e+'" />'}}),e.file("cheers.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.findCheerInToken=e.getCheer=e.get=void 0;var o=t("jquery"),a=s(o),u=t("./twitchApi"),c=s(u),l=null,f=(e.get=function(e){return l?a.default.when(l):(0,u.getChannelId)(e).then(function(e){return(0,c.default)("https://api.twitch.tv/v5/bits/actions?channel_id="+e)}).then(function(e){var t={};try{e.actions.forEach(function(e){var n=t[e.prefix]={};e.tiers.forEach(function(e){n[e.min_bits]=e.images.light.animated[4]})}),l=t}catch(e){console.warn(e)}return t})},e.getCheer=function(e,t,n){var i=e[t];return i[Object.keys(i).sort(function(e,t){return parseInt(t,10)-parseInt(e,10)}).find(function(e){return n>=e})]});e.findCheerInToken=function(e,t){for(var n=Object.keys(e),i=t.toLowerCase(),r=0;r<n.length;r++){var s=n[r].toLowerCase();if(0===i.indexOf(s)){var o=parseInt(i.substr(s.length),10);return f(e,n[r],o)}}return null}}),e.file("twitchApi.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getChannelId=e.getChannel=void 0;var s=t("jquery"),o=function(e){return e&&e.__esModule?e:{default:e}}(s),a=t("./config"),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.twitchClientId,n=e.indexOf("?")>-1?"&":"?";return o.default.getJSON(""+e+n+"client_id="+t)},c={},l={},f=e.getChannel=function(e){if(c[e])return o.default.when(c[e]);if(l[e])return l[e];var t=u("https://api.twitch.tv/v5/users?login="+e).then(function(e){var t=e.users[0];return c[t]=t,delete l[t],t});return l[e]=t,t};e.getChannelId=function(e){return f(e).then(function(e){return e._id})};e.default=u}),e.file("config.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.siteName="DanmakuRocks",e.twitchClientId="itu9mi8vwu43w4bpkgwzzt8ayy2afh"}),e.file("utils/colors.js",function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.calcBgTheme=function(e){return e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"dark":"light"},e.calcReplacement=function(e,t){var n=e,i="#",r=void 0;e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),r="light"===t?"0.2":"-0.5";for(var s=0;s<3;s++){var o=parseInt(e.substr(2*s,2),16);o<10&&(o=10),o=Math.round(Math.min(Math.max(0,o+o*r),255)).toString(16),i+=("00"+o).substr(o.length)}return n===i?"light"===t?"#ffffff":"#000000":i}}),e.file("badges.js",function(e,t,n,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadGlobalBadges=e.loadSubscriberBadges=void 0;var o=t("jquery"),a=s(o),u=t("./twitchApi"),c=s(u),l=function(e){
return Object.keys(e).map(function(t){var n=e[t];return n.type=t,n.versions=Object.keys(e[t].versions).map(function(n){var i=e[t].versions[n];return i.type=n,i}),n})},f=function(e){var t=(0,a.default)("<style />");t.attr("type","text/css"),t.html(e),(0,a.default)("head").append(t)},d=function(e,t,n){return"."+e+"-"+t+' { background-image: url("'+n.replace("http:","https:")+'"); }'};e.loadSubscriberBadges=function(e){return(0,u.getChannelId)(e).then(function(e){return(0,c.default)("https://badges.twitch.tv/v1/badges/channels/"+e+"/display")}).then(function(e){var t="";l(e.badge_sets).forEach(function(e){e.versions.forEach(function(n){t+=d(e.type,n.type,n.image_url_4x)+"\n"})}),f(t)})},e.loadGlobalBadges=function(){return(0,c.default)("https://badges.twitch.tv/v1/badges/global/display").then(function(e){var t="";l(e.badge_sets).forEach(function(e){e.versions.forEach(function(n){t+=d(e.type,n.type,n.image_url_4x)+"\n"})}),f(t)})}}),e.file("utils/boolish.js",function(e,t,n,i,r){"use strict";function s(e){return function(t){var n=void 0;return n="function"==typeof e?e(t):e,!(!n[t]||!0!==n[t]&&"true"!==n[t]&&1!==n[t]&&"1"!==n[t])}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}),e.file("createWatchParams.js",function(e,t,n,i,r){"use strict";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.default)({}),i=Object.assign({},c,e),r=function(e){return e?t[e]?i[e]||i[t[e]]:i[e]:o({},i)},s=function(e,t){var s=r(e);i[e]=t;var o=[{name:e,oldValue:s,newValue:t}];return n.emit("change",o),t};return Object.assign(n,{get:r,set:s})}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};e.default=s;var a=t("event-emitter"),u=function(e){return e&&e.__esModule?e:{default:e}}(a),c={shownick:0,highlight:"nick",showbadges:0,theme:"dark",speed:100,reverse:0,showstream:0,nochat:0,rect:"0,100"}}),e.file("createDanmakuRectHandler.js",function(e,t,n,i,r){"use strict";function s(e,t){var n=(0,a.default)(e),i=(0,a.default)(t);return function(e){var t=(0,a.default)(window),r=e?t:i,s=r.width(),o=r.height(),c=s,l=o;o/s>=u?l=c*u:c=l/u,n.css({width:c,height:l,marginLeft:-c/2,marginTop:-l/2})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=t("jquery"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=9/16})}),e.pkg("jquery",{},function(e){return e.file("index.js",function(e,t,n,i,r){n.exports=$}),e.entry="index.js"}),e.pkg("raf",{},function(e){return e.file("index.js",function(e,t,n,i,r){for(var s=t("performance-now"),o="undefined"==typeof window?global:window,a=["moz","webkit"],u="AnimationFrame",c=o["request"+u],l=o["cancel"+u]||o["cancelRequest"+u],f=0;!c&&f<a.length;f++)c=o[a[f]+"Request"+u],l=o[a[f]+"Cancel"+u]||o[a[f]+"CancelRequest"+u];if(!c||!l){var d=0,h=0,p=[];c=function(e){if(0===p.length){var t=s(),n=Math.max(0,1e3/60-(t-d));d=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(d)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++h,callback:e,cancelled:!1}),h},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}n.exports=function(e){return c.call(o,e)},n.exports.cancel=function(){l.apply(o,arguments)},n.exports.polyfill=function(){o.requestAnimationFrame=c,o.cancelAnimationFrame=l}}),e.entry="index.js"}),e.pkg("performance-now",{},function(e){return e.file("lib/performance-now.js",function(e,t,n,i,r){var s=t("process");(function(){var e,t,i;"undefined"!=typeof performance&&null!==performance&&performance.now?n.exports=function(){return performance.now()}:void 0!==s&&null!==s&&s.hrtime?(n.exports=function(){return(e()-i)/1e6},t=s.hrtime,e=function(){var e;return e=t(),1e9*e[0]+e[1]},i=e()):Date.now?(n.exports=function(){return Date.now()-i},i=Date.now()):(n.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}),e.entry="lib/performance-now.js"}),e.pkg("process",{},function(t){return t.file("index.js",function(t,n,i,r,s){function o(){h=!1,l.length?d=l.concat(d):p=-1,d.length&&a()}function a(){if(!h){var e=setTimeout(o);h=!0;for(var t=d.length;t;){for(l=d,d=[];++p<t;)l&&l[p].run();p=-1,t=d.length}l=null,h=!1,clearTimeout(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}if(e.isServer)"undefined"!=typeof __process_env__&&Object.assign(global.process.env,__process_env__),i.exports=global.process;else{n("object-assign-polyfill");var l,f=i.exports={},d=[],h=!1,p=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||h||setTimeout(a,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={NODE_ENV:"development"},"undefined"!=typeof __process_env__&&Object.assign(f.env,__process_env__),f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}}),t.entry="index.js"}),e.pkg("object-assign-polyfill",{},function(e){return e.file("index.js",function(e,t,n,i,r){"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n})}),e.entry="index.js"}),e.pkg("query-string",{},function(e){return e.file("index.js",function(e,t,n,i,r){"use strict";function s(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[a(t,e),"[",i,"]"].join(""):[a(t,e),"[",a(i,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(i[e]=n);void 0===i[e]&&(i[e]={}),i[e][t[1]]=n};case"bracket":return function(e,n,i){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===i[e]?void(i[e]=[n]):void(i[e]=[].concat(i[e],n)):void(i[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var c=t("strict-uri-encode"),l=t("object-assign");e.extract=function(e){return e.split("?")[1]||""},e.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=o(t),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:decodeURIComponent(s),n(decodeURIComponent(r),s,i)}),Object.keys(i).sort().reduce(function(e,t){var n=i[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=u(n):e[t]=n,e},Object.create(null))):i},e.stringify=function(e,t){t=l({encode:!0,strict:!0,arrayFormat:"none"},t);var n=s(t);return e?Object.keys(e).sort().map(function(i){var r=e[i];if(void 0===r)return"";if(null===r)return a(i,t);if(Array.isArray(r)){var s=[];return r.slice().forEach(function(e){void 0!==e&&s.push(n(i,e,s.length))}),s.join("&")}return a(i,t)+"="+a(r,t)}).filter(function(e){return e.length>0}).join("&"):""}}),e.entry="index.js"}),e.pkg("strict-uri-encode",{},function(e){return e.file("index.js",function(e,t,n,i,r){"use strict";n.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}}),e.entry="index.js"}),e.pkg("object-assign",{},function(e){return e.file("index.js",function(e,t,n,i,r){"use strict";function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,r=s(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)a.call(n,l)&&(r[l]=n[l]);if(o){i=o(n);for(var f=0;f<i.length;f++)u.call(n,i[f])&&(r[i[f]]=n[i[f]])}}return r}}),e.entry="index.js"}),e.pkg("event-emitter",{},function(e){return e.file("index.js",function(e,t,n,i,r){"use strict";var s,o,a,u,c,l,f,d=t("d"),h=t("es5-ext/object/valid-callable"),p=Function.prototype.apply,m=Function.prototype.call,v=Object.create,g=Object.defineProperty,y=Object.defineProperties,b=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};s=function(e,t){var n;return h(t),b.call(this,"__ee__")?n=this.__ee__:(n=_.value=v(null),g(this,"__ee__",_),_.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},o=function(e,t){var n,i;return h(t),i=this,s.call(this,e,n=function(){a.call(i,e,n),p.call(t,this,arguments)}),n.__eeOnceListener__=t,this},a=function(e,t){var n,i,r,s;if(h(t),!b.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if("object"==typeof(i=n[e]))for(s=0;r=i[s];++s)r!==t&&r.__eeOnceListener__!==t||(2===i.length?n[e]=i[s?0:1]:i.splice(s,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},u=function(e){var t,n,i,r,s;if(b.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(n=arguments.length,s=new Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)p.call(i,this,s)}else switch(arguments.length){case 1:m.call(r,this);break;case 2:m.call(r,this,arguments[1]);break;case 3:m.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),t=1;t<n;++t)s[t-1]=arguments[t];p.call(r,this,s)}},c={on:s,once:o,off:a,emit:u},l={on:d(s),once:d(o),off:d(a),emit:d(u)},f=y({},l),n.exports=e=function(e){return null==e?v(f):y(Object(e),l)},e.methods=c}),e.entry="index.js"}),e.pkg("d",{},function(e){return e.file("index.js",function(e,t,n,i,r){"use strict";var s,o=t("es5-ext/object/assign"),a=t("es5-ext/object/normalize-options"),u=t("es5-ext/object/is-callable"),c=t("es5-ext/string/#/contains");s=n.exports=function(e,t){var n,i,r,s,u;return arguments.length<2||"string"!=typeof e?(s=t,t=e,e=null):s=arguments[2],null==e?(n=r=!0,i=!1):(n=c.call(e,"c"),i=c.call(e,"e"),r=c.call(e,"w")),u={value:t,configurable:n,enumerable:i,writable:r},s?o(a(s),u):u},s.gs=function(e,t,n){var i,r,s,l;return"string"!=typeof e?(s=n,n=t,t=e,e=null):s=arguments[3],null==t?t=void 0:u(t)?null==n?n=void 0:u(n)||(s=n,n=void 0):(s=t,t=n=void 0),null==e?(i=!0,r=!1):(i=c.call(e,"c"),r=c.call(e,"e")),l={get:t,set:n,configurable:i,enumerable:r},s?o(a(s),l):l}}),e.entry="index.js"}),e.pkg("es5-ext",{},function(e){return e.file("object/assign/index.js",function(e,t,n,i,r){"use strict";n.exports=t("./is-implemented")()?Object.assign:t("./shim")}),e.file("object/assign/is-implemented.js",function(e,t,n,i,r){"use strict";n.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}}),e.file("object/assign/shim.js",function(e,t,n,i,r){"use strict";var s=t("../keys"),o=t("../valid-value"),a=Math.max;n.exports=function(e,t){var n,i,r,u=a(arguments.length,2);for(e=Object(o(e)),r=function(i){try{e[i]=t[i]}catch(e){n||(n=e)}},i=1;i<u;++i)t=arguments[i],s(t).forEach(r);if(void 0!==n)throw n;return e}}),e.file("object/keys/index.js",function(e,t,n,i,r){"use strict";n.exports=t("./is-implemented")()?Object.keys:t("./shim")}),e.file("object/keys/is-implemented.js",function(e,t,n,i,r){"use strict";n.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}}),e.file("object/keys/shim.js",function(e,t,n,i,r){"use strict";var s=Object.keys;n.exports=function(e){return s(null==e?e:Object(e))}}),e.file("object/valid-value.js",function(e,t,n,i,r){"use strict";n.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}}),e.file("object/normalize-options.js",function(e,t,n,i,r){"use strict";var s=Array.prototype.forEach,o=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};n.exports=function(e){var t=o(null);return s.call(arguments,function(e){null!=e&&a(Object(e),t)}),t}}),e.file("object/is-callable.js",function(e,t,n,i,r){"use strict";n.exports=function(e){return"function"==typeof e}}),e.file("string/#/contains/index.js",function(e,t,n,i,r){"use strict";n.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")}),e.file("string/#/contains/is-implemented.js",function(e,t,n,i,r){"use strict";var s="razdwatrzy";n.exports=function(){return"function"==typeof s.contains&&(!0===s.contains("dwa")&&!1===s.contains("foo"))}}),e.file("string/#/contains/shim.js",function(e,t,n,i,r){"use strict";var s=String.prototype.indexOf;n.exports=function(e){return s.call(this,e,arguments[1])>-1}}),e.file("object/valid-callable.js",function(e,t,n,i,r){"use strict";n.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}}),e.entry="index.js"}),e.pkg("punycode",{},function(e){return e.file("punycode.js",function(e,t,n,i,r){!function(t){function i(e){throw new RangeError(S[e])}function r(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function s(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(F,"."),i+r(e.split("."),t).join(".")}function o(e){for(var t,n,i=[],r=0,s=e.length;r<s;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<s?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function a(e){return r(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function c(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function l(e,t,n){var i=0;for(e=n?I(e/O):e>>1,e+=I(e/t);e>T*x>>1;i+=w)e=I(e/T);return I(i+(T+1)*e/(e+k))}function f(e){var t,n,r,s,o,c,f,d,h,p,m=[],v=e.length,g=0,y=M,b=C;for(n=e.lastIndexOf(E),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(s=n>0?n+1:0;s<v;){for(o=g,c=1,f=w;s>=v&&i("invalid-input"),d=u(e.charCodeAt(s++)),(d>=w||d>I((_-g)/c))&&i("overflow"),g+=d*c,h=f<=b?j:f>=b+x?x:f-b,!(d<h);f+=w)p=w-h,c>I(_/p)&&i("overflow"),c*=p;t=m.length+1,b=l(g-o,t,0==o),I(g/t)>_-y&&i("overflow"),y+=I(g/t),g%=t,m.splice(g++,0,y)}return a(m)}function d(e){var t,n,r,s,a,u,f,d,h,p,m,v,g,y,b,k=[];for(e=o(e),v=e.length,t=M,n=0,a=C,u=0;u<v;++u)(m=e[u])<128&&k.push(D(m));for(r=s=k.length,s&&k.push(E);r<v;){for(f=_,u=0;u<v;++u)(m=e[u])>=t&&m<f&&(f=m);for(g=r+1,f-t>I((_-n)/g)&&i("overflow"),n+=(f-t)*g,t=f,u=0;u<v;++u)if(m=e[u],m<t&&++n>_&&i("overflow"),m==t){for(d=n,h=w;p=h<=a?j:h>=a+x?x:h-a,!(d<p);h+=w)b=d-p,y=w-p,k.push(D(c(p+b%y,0))),d=I(b/y);k.push(D(c(d,0))),a=l(n,g,r==s),n=0,++r}++n,++t}return k.join("")}function h(e){return s(e,function(e){return P.test(e)?f(e.slice(4).toLowerCase()):e})}function p(e){return s(e,function(e){return A.test(e)?"xn--"+d(e):e})}var m="object"==typeof e&&e&&!e.nodeType&&e,v="object"==typeof n&&n&&!n.nodeType&&n,g="object"==typeof global&&global;g.global!==g&&g.window!==g&&g.self!==g||(t=g);var y,b,_=2147483647,w=36,j=1,x=26,k=38,O=700,C=72,M=128,E="-",P=/^xn--/,A=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=w-j,I=Math.floor,D=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:o,encode:a},decode:f,encode:d,toASCII:p,toUnicode:h},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(m&&v)if(n.exports==m)v.exports=y;else for(b in y)y.hasOwnProperty(b)&&(m[b]=y[b]);else t.punycode=y}(this)}),e.entry="punycode.js"}),e.import("default/index.js"),e.main("default/index.js")}(function(e){function t(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);if((d||58!==n)&&(t>=97&&t<=122||64===t)){if(64===t){var i=e.split("/"),r=i.splice(2,i.length).join("/");return[i[0]+"/"+i[1],r||void 0]}var s=e.indexOf("/");if(-1===s)return[e];return[e.substring(0,s),e.substring(s+1)]}}function n(e){return e.substring(0,e.lastIndexOf("/"))||"./"}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],i=0,r=arguments.length;i<r;i++)n=n.concat(arguments[i].split("/"));for(var s=[],i=0,r=n.length;i<r;i++){var o=n[i];o&&"."!==o&&(".."===o?s.pop():s.push(o))}return""===n[0]&&s.unshift(""),s.join("/")||(s.length?"/":".")}function r(e){var t=e.match(/\.(\w{1,})$/);return t&&t[1]?e:e+".js"}function s(e){if(d){var t,n=document,i=n.getElementsByTagName("head")[0];/\.css$/.test(e)?(t=n.createElement("link"),t.rel="stylesheet",t.type="text/css",t.href=e):(t=n.createElement("script"),t.type="text/javascript",t.src=e,t.async=!0),i.insertBefore(t,i.firstChild)}}function o(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function a(e){return{server:require(e)}}function u(e,n){var s=n.path||"./",o=n.pkg||"default",u=t(e);if(u&&(s="./",o=u[0],n.v&&n.v[o]&&(o=o+"@"+n.v[o]),e=u[1]),e)if(126===e.charCodeAt(0))e=e.slice(2,e.length),s="./";else if(!d&&(47===e.charCodeAt(0)||58===e.charCodeAt(1)))return a(e);var c=m[o];if(!c){if(d)throw"Package not found "+o;return a(o+(e?"/"+e:""))}e=e||"./"+c.s.entry;var l,f=i(s,e),h=r(f),p=c.f[h];return!p&&h.indexOf("*")>-1&&(l=h),p||l||(h=i(f,"/","index.js"),p=c.f[h],p||(h=f+".js",p=c.f[h]),p||(p=c.f[f+".jsx"]),p||(h=f+"/index.jsx",p=c.f[h])),{file:p,wildcard:l,pkgName:o,versions:c.v,filePath:f,validPath:h}}function c(e,t){if(!d)return t(/\.(js|json)$/.test(e)?h.require(e):"");var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var r=n.getResponseHeader("Content-Type"),s=n.responseText;/json/.test(r)?s="module.exports = "+s:/javascript/.test(r)||(s="module.exports = "+JSON.stringify(s));var o=i("./",e);g.dynamic(o,s),t(g.import(e,{}))}else console.error(e,"not found on request"),t(void 0)},n.open("GET",e,!0),n.send()}function l(e,t){var n=v[e];if(n)for(var i in n){var r=n[i].apply(null,t);if(!1===r)return!1}}function f(e,t){if(void 0===t&&(t={}),58===e.charCodeAt(4)||58===e.charCodeAt(5))return s(e);var i=u(e,t);if(i.server)return i.server;var r=i.file;if(i.wildcard){var o=new RegExp(i.wildcard.replace(/\*/g,"@").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&").replace(/@/g,"[a-z0-9$_-]+"),"i"),a=m[i.pkgName];if(a){var p={};for(var v in a.f)o.test(v)&&(p[v]=f(i.pkgName+"/"+v));return p}}if(!r){var g="function"==typeof t;if(!1===l("async",[e,t]))return;return c(e,function(e){return g?t(e):null})}var y=i.pkgName;if(r.locals&&r.locals.module)return r.locals.module.exports;var b=r.locals={},_=n(i.validPath);b.exports={},b.module={exports:b.exports},b.require=function(e,t){return f(e,{pkg:y,path:_,v:i.versions})},b.require.main={filename:d?"./":h.require.main.filename,paths:d?[]:h.require.main.paths};var w=[b.module.exports,b.require,b.module,i.validPath,_,y];return l("before-import",w),r.fn.apply(0,w),l("after-import",w),b.module.exports}if(e.FuseBox)return e.FuseBox;var d="undefined"!=typeof window&&window.navigator,h=d?window:global;d&&(h.global=window),e=d&&"undefined"==typeof __fbx__dnm__?e:module.exports;var p=d?window.__fsbx__=window.__fsbx__||{}:h.$fsbx=h.$fsbx||{};d||(h.require=require);var m=p.p=p.p||{},v=p.e=p.e||{},g=function(){function t(){}return t.global=function(e,t){return void 0===t?h[e]:void(h[e]=t)},t.import=function(e,t){return f(e,t)},t.on=function(e,t){v[e]=v[e]||[],v[e].push(t)},t.exists=function(e){try{return void 0!==u(e,{}).file}catch(e){return!1}},t.remove=function(e){var t=u(e,{}),n=m[t.pkgName];n&&n.f[t.validPath]&&delete n.f[t.validPath]},t.main=function(e){return this.mainFile=e,t.import(e,{})},t.expose=function(t){for(var n in t)!function(n){var i=t[n].alias,r=f(t[n].pkg);"*"===i?o(r,function(t,n){return e[t]=n}):"object"==typeof i?o(i,function(t,n){return e[n]=r[t]}):e[i]=r}(n)},t.dynamic=function(t,n,i){this.pkg(i&&i.pkg||"default",{},function(i){i.file(t,function(t,i,r,s,o){new Function("__fbx__dnm__","exports","require","module","__filename","__dirname","__root__",n)(!0,t,i,r,s,o,e)})})},t.flush=function(e){var t=m.default;for(var n in t.f)e&&!e(n)||delete t.f[n].locals},t.pkg=function(e,t,n){if(m[e])return n(m[e].s);var i=m[e]={};return i.f={},i.v=t,i.s={file:function(e,t){return i.f[e]={fn:t}}},n(i.s)},t.addPlugin=function(e){this.plugins.push(e)},t}();return g.packages=m,g.isBrowser=void 0!==d,g.isServer=!d,g.plugins=[],e.FuseBox=g}(this));
//# sourceMappingURL=bundle.js.map